<ion-header [translucent]="true">
  <ion-toolbar>
    <ion-title>
      Lista
    </ion-title>
  </ion-toolbar>
</ion-header>

<ion-content [fullscreen]="true">
  <!-- <ion-fab vertical="bottom" horizontal="end" slot="fixed">
    <ion-fab-button (click)="openCart()">
      <ion-icon name="cart"></ion-icon>
    </ion-fab-button>
  </ion-fab> -->

  <ion-toolbar>
    <ion-searchbar (ionChange)="updateFilter($event)" debounce="1000"></ion-searchbar>
  </ion-toolbar>

  <ngx-datatable class="ion-padding" [rows]="filteredItems" [rowHeight]="'auto'" [headerHeight]="50" [columnMode]="'force'">
    <ngx-datatable-column name="Nome" prop="name"></ngx-datatable-column>
    <ngx-datatable-column name="Tipo" prop="type"></ngx-datatable-column>
    <ngx-datatable-column name="Preço (R$)" prop="price"></ngx-datatable-column>
    <ngx-datatable-column name="Situação" prop="stock">
      <ng-template let-row="row" ngx-datatable-cell-template>
        <ion-badge *ngIf="row.stock > 0" color="success">Disponível</ion-badge>
        <ion-badge *ngIf="row.stock == 0" color="warning">Indisponível</ion-badge>
      </ng-template>
      </ngx-datatable-column>
    <ngx-datatable-column name="id" [sortable]="false">
      <ng-template ngx-datatable-header-template>
        Action
      </ng-template>
      <ng-template let-row="row" ngx-datatable-cell-template>
        <ion-button expand="fill" type="submit" (click)="addToCart(row)" [disabled]="row.stock == 0"><ion-icon name="add" slot="start"></ion-icon>Adicionar ao Carrinho</ion-button>
      </ng-template>
    </ngx-datatable-column>
  </ngx-datatable>
</ion-content>

  
